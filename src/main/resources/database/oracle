CREATE TABLE role (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR2(255)
);
CREATE TABLE staff (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    address VARCHAR2(255),
    birthday TIMESTAMP,
    email VARCHAR2(255),
    fullname VARCHAR2(255),
    gender NUMBER(1) NOT NULL,
    image VARCHAR2(255),
    password VARCHAR2(255),
    phonenumber VARCHAR2(255),
    salary NUMBER,
    status NUMBER(1) NOT NULL,
    roleid NUMBER,
    CONSTRAINT FK4f9qh6cditrqq6uqh9u16by17 FOREIGN KEY (roleid) REFERENCES role (id)
);
CREATE TABLE customer (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    address VARCHAR2(255),
    email VARCHAR2(255),
    fullname VARCHAR2(255),
    phonenumber VARCHAR2(255),
    status NUMBER(1) NOT NULL
);
CREATE TABLE category (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR2(255),
    status NUMBER(1)
);
CREATE TABLE properties (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR2(255),
    status NUMBER(1) NOT NULL
);
CREATE TABLE voucher (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    code VARCHAR2(255),
    endday TIMESTAMP,
    quantity NUMBER NOT NULL,
    startday TIMESTAMP,
    status NUMBER(1) NOT NULL,
    value NUMBER NOT NULL
);
CREATE TABLE products (
    id VARCHAR2(255) PRIMARY KEY,
    details VARCHAR2(4000),
    discout NUMBER NOT NULL,
    image VARCHAR2(255),
    importprice NUMBER NOT NULL,
    name VARCHAR2(255),
    price NUMBER NOT NULL,
    status NUMBER(1) NOT NULL,
    categoryid NUMBER,
    propertiesid NUMBER,
    CONSTRAINT FKgql7i991si80kbl0ha386e1ta FOREIGN KEY (categoryid) REFERENCES category (id),
    CONSTRAINT FKnufa6e0hsyy1r408rnvi1l9ri FOREIGN KEY (propertiesid) REFERENCES properties (id)
);
CREATE TABLE products_details (
    id VARCHAR2(255) PRIMARY KEY,
    color VARCHAR2(255),
    quantity NUMBER NOT NULL,
    productsid VARCHAR2(255),
    CONSTRAINT FK5p4ywlrkkc8r3npnb5vss1gh FOREIGN KEY (productsid) REFERENCES products (id)
);
CREATE TABLE importproduct (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    day TIMESTAMP,
    staffid NUMBER,
    CONSTRAINT FKa02ppiket2kl871nwv0y2sie1 FOREIGN KEY (staffid) REFERENCES staff (id)
);
CREATE TABLE importproduct_details (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    quantity NUMBER NOT NULL,
    importproductid NUMBER,
    productdetailsid VARCHAR2(255),
    CONSTRAINT FKh3dvkrs6uquk8bgytdtc2ckw9 FOREIGN KEY (importproductid) REFERENCES importproduct (id),
    CONSTRAINT FKqr5mb5pyjl80vkqlwxdpiojqc FOREIGN KEY (productdetailsid) REFERENCES products_details (id)
);
CREATE TABLE bill (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    day TIMESTAMP,
    status NUMBER NOT NULL,
    summoney NUMBER,
    customerid NUMBER,
    staffid NUMBER,
    voucherid NUMBER,
    CONSTRAINT FK5vpfraiv21uni74b4orft8c0a FOREIGN KEY (staffid) REFERENCES staff (id),
    CONSTRAINT FK9l2wcsn7su3xbvdh5573l3x52 FOREIGN KEY (voucherid) REFERENCES voucher (id),
    CONSTRAINT FKduvsbt91e079yql89g7io0rt4 FOREIGN KEY (customerid) REFERENCES customer (id)
);
CREATE TABLE bill_details (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    quantity NUMBER NOT NULL,
    billid NUMBER,
    products_detailsid VARCHAR2(255),
    CONSTRAINT FKewhtak1wlyixtbrnoqdjtshga FOREIGN KEY (products_detailsid) REFERENCES products_details (id),
    CONSTRAINT FKij1i58r8rfo1tmrws13vkh3tc FOREIGN KEY (billid) REFERENCES bill (id)
);
CREATE TABLE customerviews (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    date TIMESTAMP,
    name VARCHAR2(255),
    note VARCHAR2(255),
    phonenumber VARCHAR2(255),
    idproduct VARCHAR2(255),
    CONSTRAINT FKng6kto6fb1nwfsfhoqvno9blf FOREIGN KEY (idproduct) REFERENCES products (id)
);
CREATE TABLE image (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR2(255),
    productid VARCHAR2(255),
    CONSTRAINT FK4pw6o9gyseypangjr47ge5og6 FOREIGN KEY (productid) REFERENCES products (id)
);
CREATE TABLE top10product (
    id VARCHAR2(255) PRIMARY KEY,
    discout NUMBER NOT NULL,
    image VARCHAR2(255),
    importprice NUMBER NOT NULL,
    name VARCHAR2(255),
    price NUMBER NOT NULL,
    quantity NUMBER NOT NULL
);
INSERT INTO ROLE (ID, NAME) VALUES (1, 'Quan Lí');
INSERT INTO staff (id, address, birthday, email, fullname, gender, image, password, phonenumber, salary, status, roleid) VALUES (2, 'Hà Nội', TO_TIMESTAMP('2023-07-15 17:03:28', 'YYYY-MM-DD HH24:MI:SS.FF'), 'doduy23071995@gmail.com', 'Duy', 1, 'faf', '123', '06434541', 1, 1, 1);
INSERT INTO staff (id, address, birthday, email, fullname, gender, image, password, phonenumber, salary, status, roleid) VALUES (3, '23 CoNhue', TO_TIMESTAMP('2023-07-08 07:00:00', 'YYYY-MM-DD HH24:MI:SS.FF'), 'duydv4.os@tpb.com.vn', 'Duy Đỗ Văn', 1, 'https://firebasestorage.googleapis.com/v0/b/dienthoaiviet-31523.appspot.com/o/1689423572785-sg-11134201-22120-eaaejzezvwkvd3.jpg?alt=media&token=3935f7ff-ab59-433d-b6ad-9d27a6c64635', '$2a$10$fB.aBkXchfJ1yuC0XWssVeARCa80okuM4LnBNURpJGPLmd21hbV5a', '0384748015', 10000000, 1, 1);
INSERT INTO staff (id, address, birthday, email, fullname, gender, image, password, phonenumber, salary, status, roleid) VALUES (2930, 'So 18 Le Van Luong', TO_TIMESTAMP('2024-05-30 07:00:00', 'YYYY-MM-DD HH24:MI:SS.FF'), 'duy23071995@gmail.com', 'Duy Do', 1, 'https://firebasestorage.googleapis.com/v0/b/dienthoaiviet-31523.appspot.com/o/1717505042581-z4856774017199_ee6a022289caf777c94ce86fb723ab9b.jpg?alt=media&token=8de49057-17f6-4f0a-b1e7-a7454d9b1610', '$2a$10$zEkV2mU0wRdVlRSOXycfNuuiBqz0E0hfdKFYGkE5Nl7dp1w6BZ8YS', '0989398030', 1522222, 1, 1);
INSERT INTO properties (id, name, status) VALUES (1, '32 Gb', 1);
INSERT INTO properties (id, name, status) VALUES (2, '64 Gb', 1);
INSERT INTO category (id, name, status) VALUES (3, 'Xiaomi', true);
INSERT INTO voucher (id, code, endday, quantity, startday, status, value) VALUES (1, 'duytest', '2025-06-16 21:08:22', 11, '2024-06-15 21:08:32', true, 10000);
INSERT INTO CATEGORY (ID, NAME, STATUS) VALUES (1, 'Iphone', 1);
INSERT INTO CATEGORY (ID, NAME, STATUS) VALUES (2, 'Samsung', 1);
INSERT INTO CATEGORY (ID, NAME, STATUS) VALUES (3, 'Xiaomi', 1);
